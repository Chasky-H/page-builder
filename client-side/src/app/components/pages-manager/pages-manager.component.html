
<pep-top-bar class="main-top-heaer"  [inline]="false" [title]="!isAddNewPage ?  ('Pages_Main_Header' | translate) : ''">
    <div header-start-content>
        <div *ngIf="isAddNewPage" header-end-content>
            <pep-button  class="back-button pull-left flip" sizeType="sm" iconName="arrow_left_alt" (buttonClick)="navigateBackToMainPage();"></pep-button>
            <div class="main-header pep-spacing-element title title-lg pull-left flip"><span  title="Select a Page">{{'Pages_AddNew_Header' | translate}}</span></div>
        </div>
    </div>
    <div header-end-content>
        <pep-menu class="pep-spacing-element " [items]="mainMenuItems" (menuItemClick)="onMainMenuItemClicked($event)">
        </pep-menu>
    </div>
</pep-top-bar>
<div class="main-content">
    <div class="content">
        <ng-container *ngIf="!isAddNewPage; then mainBlock; else addNewBlock"></ng-container>


    </div>
</div>

<ng-template #mainBlock>
    <span class="body-md pageExplanation">{{ 'Pages_Main_Explanation' | translate }}</span>
    <pep-top-bar [inline]="true" [title]="('Pages_Secondary_Header' | translate)">
        <div header-start-content>
        </div>
        <div header-end-content>
            <pep-menu class="pep-spacing-element" [items]="secondaryMenuItems" [sizeType]="'sm'" (menuItemClick)="onSecondaryMenuItemClicked($event)">
            </pep-menu>
            <pep-button [value]="'Pages_a_Page' | translate" [sizeType]="'sm'" [styleType]="'strong'" (buttonClick)="addNewPage();">
            </pep-button>
        </div>
    </pep-top-bar>
    <div>
        <div class="PagesNotFoundMsg">
            <h2>{{ "Pages_No_Pages_Header" | translate}}</h2>
            <span>{{ "Pages_No_Pages_Msg" | translate}}</span>
        </div>
        <generic-list [inline]="'true'"></generic-list>
    </div>
</ng-template>

<ng-template #addNewBlock>
    <span class="body-md pageExplanation">{{ 'Pages_AddNew_Explanation' | translate }}</span>
    <mat-accordion [multi]="'true'">

        <mat-expansion-panel *ngFor="let page of pageTypes" [expanded]="page.isExpanded" (click)="togglePanel(page)">
          <mat-expansion-panel-header>
            <mat-panel-title class="title title-md">
                <mat-icon [ngClass]="{ 'rotateUp': page.isExpanded , 'rotateDown': !page.isExpanded }">
                    <pep-icon name="arrow_down"></pep-icon>
                </mat-icon>
                {{page.title | translate}}
            </mat-panel-title>

          </mat-expansion-panel-header>
            <div class="page-cube pull-left flip" *ngFor="let tmpPage of  page.pages">
                <div class="page-cube-inner">
                    <div class="logo">{{tmpPage.name | translate}}</div>
                </div>
                <div class="body-xs">{{tmpPage.description | translate}}</div>
            </div>
        </mat-expansion-panel>
        <!-- <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title class="title title-md">
                  {{'Pages_AddNew_Dashboard' | translate}}
              </mat-panel-title>
            </mat-expansion-panel-header>
              <div class="page-cube pull-left flip" *ngFor="let tmpPage of  tempPages">
                  <div class="page-cube-inner">
                      <div class="logo">{{tmpPage.name | translate}}</div>
                  </div>
                  <div class="body-xs">{{tmpPage.description | translate}}</div>
              </div>
          </mat-expansion-panel>
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title class="title title-md">
                  {{'Pages_AddNew_Item' | translate}}
              </mat-panel-title>
            </mat-expansion-panel-header>
              <div class="page-cube pull-left flip" *ngFor="let tmpPage of  tempPages">
                  <div class="page-cube-inner">
                      <div class="logo">{{tmpPage.name | translate}}</div>
                  </div>
                  <div class="body-xs">{{tmpPage.description | translate}}</div>
              </div>
          </mat-expansion-panel>
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title class="title title-md">
                  {{'Pages_AddNew_Generic' | translate}}
              </mat-panel-title>
            </mat-expansion-panel-header>
              <div class="page-cube pull-left flip" *ngFor="let tmpPage of  tempPages">
                  <div class="page-cube-inner">
                      <div class="logo">{{tmpPage.name | translate}}</div>
                  </div>
                  <div class="body-xs">{{tmpPage.description | translate}}</div>
              </div>
          </mat-expansion-panel> -->
      </mat-accordion>
</ng-template>


