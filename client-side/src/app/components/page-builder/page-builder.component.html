<pep-section
        [numOfBlocks]="6"
        [editable]="editable">
</pep-section>

<div class="page-builder-container" cdkDropListGroup>

    <div cdkDropList  cdkDropListOrientation="horizontal"
    (cdkDropListDropped)="drop($event)"
    [cdkDropListData]="sectionOfAddons"
    [ngClass]="{'editable': editable}"
    #htmlSections class="flex-container"
     *ngFor="let sectionOfAddons of sections$ | async as sections; let i=index;">
     <!-- <button mat-button class="pep-spacing-element pep-button icon-button sm strong caution"
 *ngIf="editable"  (click)="remove(sections, i);"
 ><mat-icon>
    <pep-icon name="system_close"></pep-icon>
 </mat-icon>
 Remove Section
 </button> -->
     <div #htmlBlocks cdkDrag [cdkDragDisabled]="!editable"
        [ngClass]="{'editable': editable}"
        cdkDragBoundary=".page-builder-container"
        class="flex-item" *ngFor="let addon of sectionOfAddons; let i=index;">
        <!-- <button mat-button class="remove-addon pep-spacing-element pep-button icon-button pull-right sm strong caution"
         *ngIf="editable" (click)="remove(sectionOfAddons, i);">
        <mat-icon>
            <pep-icon name="system_close"></pep-icon>
         </mat-icon>
        </button> -->

                <addon-proxy #addons *ngIf="addon" [hostObject]="addon" (hostEvents)="onAddonChange($event);">
                </addon-proxy>
        </div>
    </div>

    <!-- <button mat-button class="pep-spacing-element pep-button icon-button sm strong"
    disabled  *ngIf="editable" (click)="addSection();"
        >
        <mat-icon>
           <pep-icon name="number_plus"></pep-icon>
        </mat-icon>
        Add Section
    </button> -->
</div>





<ng-template #section>
    <div cdkDropList  cdkDropListOrientation="horizontal"
        (cdkDropListDropped)="drop($event)"
        [ngClass]="{'editable': editable}"
        #htmlSections class="flex-container">
        <button mat-button class="remove-addon pep-spacing-element
        pep-button icon-button md strong caution" *ngIf="editable"
        ><mat-icon>
                   <pep-icon name="system_close"></pep-icon>
            </mat-icon>
        </button>
    </div>
</ng-template>

