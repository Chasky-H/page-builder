<div #sectionContainer *ngIf="editable || (containsBlocks && !hideForCurrentScreenType)" class="section-container " 
    [ngClass]="{ 'editable-state': editable, 'active-section': selected, 'section-hidden-state': hideForCurrentScreenType }" 
    cdkDrag [cdkDragDisabled]="!editable || selected || selectedBlockId.length > 0" (cdkDragStarted)="onDragStart($event)" (cdkDragEnded)="onDragEnd($event)" >
    <toolbar-actions *ngIf="editable && canDrag" cdkDragHandle style="cursor: grab;"
        class="section-toolbar" [title]="name" [isDraggable]="true"
        (editClick)="onEditSectionClick();" (removeClick)="onRemoveSectionClick()"
        [hideIn]="hideIn" (hideInChange)="onHideSectionChange($event)"></toolbar-actions>
    <div *ngIf="editable" class="section-background">
        <div class="back-template" *ngFor="let number of [0,1,2,3,4,5,6,7,8,9,10,11]"></div>
    </div>
    <div #columnsWrapper class="columns-wrapper gap-{{ columnsGap }}">
        <div [id]="sectionColumnKeyPrefix + i" 
            *ngFor="let column of columns; let i=index;"
            class="section-column {{screenSize <= pepScreenSizeToFlipToVertical ? 'horizontal' : 'vertical'}}"
            [ngClass]="{ 'active-column': selectedBlockId === column.Block?.BlockKey }"
            cdkDropList
            [cdkDropListData]="column"
            [cdkDropListOrientation]="screenSize <= pepScreenSizeToFlipToVertical ? 'horizontal' : 'vertical'" 
            [cdkDropListConnectedTo]="sectionsColumnsDropList"
            (cdkDropListDropped)="onBlockDropped($event)"
            [cdkDropListEnterPredicate]="canDropPredicate(i)"
        >
            <section-block *ngIf="column.Block && pageBlocksMap.has(column.Block.BlockKey)" [sectionId]="id" [pageBlock]="pageBlocksMap.get(column.Block.BlockKey)"
                [columnBlock]="column.Block" [editable]="editable" [canDrag]="canDrag"
                [active]="selectedBlockId === column.Block?.BlockKey" [screenType]="screenType"></section-block>
        </div>
    </div>
</div>
